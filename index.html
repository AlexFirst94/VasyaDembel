<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–î–ï–ú–ë–ï–õ–¨ –¢–ê–ô–ú–ï–† - –í–ê–°–ò–õ–ò–ô</title>
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; overflow: hidden; display: flex; justify-content: center; align-items: center;
            height: 100vh; height: 100dvh;
            background: radial-gradient(circle, #1a1a1a 0%, #000000 100%);
            font-family: 'Courier New', monospace; color: #fff;
        }

        #fireworksCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }

        /* –ì–õ–ê–í–ù–´–ô –ë–õ–û–ö */
        .monitor {
            position: relative; z-index: 2;
            background: rgba(0, 0, 0, 0.9);
            padding: 15px; border-radius: 15px;
            border: 2px solid #222;
            width: 95vw; max-width: 400px;
            max-height: 96dvh; overflow-y: auto;
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.15);
            display: flex; flex-direction: column;
        }

        /* –ù–ï–û–ù–û–í–ê–Ø –†–ê–ú–ö–ê –§–û–¢–û */
        .photo-container {
    display: flex;
    justify-content: center;
    align-items: center;
    border: 3px solid #00ff00; /* –í–∞—à –∑–µ–ª–µ–Ω—ã–π –Ω–µ–æ–Ω */
    border-radius: 10px;
    margin: 0 auto 10px auto; 
    box-shadow: 0 0 15px #00ff00; /* –í–∞—à–µ —Å–≤–µ—á–µ–Ω–∏–µ */
    animation: neon-pulse 2s infinite ease-in-out; /* –í–∞—à–∞ –ø—É–ª—å—Å–∞—Ü–∏—è */
    overflow: hidden;
    flex-shrink: 3; 
    min-height: 0;
}

.photo-container img {
    width: auto;
    height: auto;
    max-width: 100%;
    /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤—ã—Å–æ—Ç—É, —á—Ç–æ–±—ã –≤–ª–µ–∑–ª–æ –Ω–∞ iPhone */
    max-height: 20dvh; 
    display: block;
    /* –ü–û–õ–ù–û–ï –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –ë–ï–ó –û–ë–†–ï–ó–ö–ò */
    object-fit: contain; 
}

        @keyframes neon-pulse { 0%, 100% { box-shadow: 0 0 10px #00ff00; } 50% { box-shadow: 0 0 20px #00ff00; } }

        #today-date { color: #00ff00; font-size: 1.1rem; font-weight: bold; margin-bottom: 5px; }

        .timer-display { font-weight: bold; line-height: 1.2; font-size: clamp(1.3rem, 5vw, 1.8rem); }
        #ny-display { color: #fff; text-shadow: 0 0 5px #fff; }
        .dembel-timer { color: #ffff00; text-shadow: 0 0 5px #ffff00; }

        .dembel-box { 
            border: 2px dashed #ffff00; margin: 10px 0; padding: 10px; 
            background: rgba(255, 255, 0, 0.05); border-radius: 8px;
        }

        /* –ú–ò–ì–ê–Æ–©–ê–Ø –ö–ù–û–ü–ö–ê */
        #music-btn {
            display: none; background: #ff0000; color: white; border: 2px solid #fff; 
            padding: 12px; width: 100%; border-radius: 10px; font-weight: 900; 
            font-size: 1rem; text-transform: uppercase; cursor: pointer;
            animation: fast-flash 0.2s infinite; margin-top: 10px;
        }
        @keyframes fast-flash { 0% { background: #f00; } 50% { background: #000; } 100% { background: #f00; } }

        /* –†–ê–î–£–ñ–ù–´–ô –¢–ï–ö–°–¢ */
        .neon-phrase {
            font-size: 1.1rem; font-weight: bold; text-transform: uppercase;
            background: linear-gradient(90deg, #f00, #ff0, #0f0, #0ff, #f0f, #f00);
            background-size: 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: rainbow 4s linear infinite; margin: 10px 0;
        }
        @keyframes rainbow { 0% { background-position: 0%; } 100% { background-position: 300%; } }

       #wish-box { 
    border: 2px double #ff3333; 
    padding: 10px; 
    border-radius: 8px;
    background: rgba(255, 0, 0, 0.05); 
    transition: 0.5s; 
    overflow: hidden; /* –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ */
}
        .wish-content { 
    font-size: 0.95rem; 
    color: #ffaaaa; 
    font-weight: bold; 
    
    word-break: break-all;       /* –†–∞–∑—Ä—ã–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É –∑–≤–µ–∑–¥ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ */
    word-wrap: break-word;       /* –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ */
    overflow-wrap: break-word;   /* –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞ */
    white-space: normal;         /* –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ–∫—Å—Ç—É –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ */
}
        .falling-item { position: fixed; top: -50px; z-index: 1; pointer-events: none; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(105dvh) rotate(360deg); } }

        .footer-text { color: #00ffff; font-size: 0.8rem; margin-top: 10px; font-weight: bold; letter-spacing: 1px; }
        .monitor::-webkit-scrollbar { width: 0; }
    </style>
</head>
<body>
    <canvas id="fireworksCanvas"></canvas>
    
    <div class="monitor">
        <div class="photo-container"><img src="photo.jfif" id="main-photo" alt="–í–∞—Å–∏–ª–∏–π"></div>
        
        <div id="today-date">--.--.----</div>
        
        <div id="ny-section">
            <div style="color: #00ffff; font-size: 0.9rem;">–î–û –ù–û–í–û–ì–û –ì–û–î–ê:</div>
            <div id="ny-display" class="timer-display">00:00:00:00</div>
        </div>

        <div id="new-year-phrase"></div>

        <div class="dembel-box">
            <div style="font-size: 0.9rem; color: #fff;">–î–û –î–ï–ú–ë–ï–õ–Ø (11 –ò–Æ–õ–Ø 2026):</div>
            <div id="dembel-display" class="timer-display dembel-timer">00:00:00:00</div>
            <button id="music-btn" onclick="playMusic()">–í–ê–°–Ø –î–ï–ú–ë–ï–õ–¨ !!!</button>
        </div>

        <div id="wish-box">
            <div id="status-header" style="color: #ff3333; font-weight: bold; font-size: 0.9rem; margin-bottom: 5px;">‚ö†Ô∏è –î–û–°–¢–£–ü –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù ‚ö†Ô∏è</div>
            <div id="family-text" class="wish-content">********************************************************</div>
            <div id="elf-info" class="elf-status">–û–∂–∏–¥–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏: 01.01.2026</div>
        </div>

        <div class="footer-text">–ê–ù–ì–ê–†–°–ö -> –í–ê–°–ò–õ–ò–ô üëä</div>
    </div>

    <audio id="dembel-audio" loop preload="auto"><source src="dembel.mp3" type="audio/mpeg"></audio>

    <script>
        const TRIGGER_DATE = new Date('January 1, 2026 00:00:01').getTime(); 
        const NY_FIREWORKS_END = new Date('January 3, 2026 00:00:00').getTime();
        const SPRING_DATE = new Date('March 1, 2026 00:00:00').getTime();
        const DEMBEL_DATE = new Date('July 11, 2026 00:00:01').getTime();
        
        const NY_WISH = "–î–û–†–û–ì–û–ô –ù–ê–® –í–ê–°–ò–õ–ò–ô! –í–°–Ø –°–ï–ú–¨–Ø –ü–û–ó–î–†–ê–í–õ–Ø–ï–¢ –¢–ï–ë–Ø –° –ù–û–í–´–ú –ì–û–î–û–ú! –ñ–ï–õ–ê–ï–ú –¢–ï–ë–ï –ó–î–û–†–û–í–¨–Ø, –ö–†–ï–ü–ö–û–ì–û –î–£–•–ê –ò –°–ü–û–ö–û–ô–ù–û–ô –°–õ–£–ñ–ë–´. –õ–Æ–ë–ò–ú, –ñ–î–ï–ú!";
        const DEMBEL_WISH = "–ù–£ –í–û–¢ –¢–´ –ò –î–ï–ë–ò–õ–¨–ù–£–õ–°–Ø, –ò–õ–ò –î–ï–ú–ë–ï–õ–¨–ù–£–õ–°–Ø, –ù–£ –ß–¢–û –¢–û –ò–ó –≠–¢–û–ì–û";
        
        let fireworksActive = false;
        let isDembelTime = false;
        let isFirstPlay = true;

       let isActionPending = false; // –ü—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å –æ—Ç —á–∞—Å—Ç—ã—Ö –∫–ª–∏–∫–æ–≤

async function playMusic() {
    const audio = document.getElementById('dembel-audio');
    const btn = document.getElementById('music-btn');

    // –ï—Å–ª–∏ –º—ã —É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–ª–∏–∫ ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –Ω–∞–∂–∞—Ç–∏—è
    if (isActionPending) return;
    
    isActionPending = true;

    try {
        if (audio.paused) {
            // –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ —Å 13-–π —Å–µ–∫—É–Ω–¥—ã
            if (isFirstPlay) { 
                audio.currentTime = 13; 
                isFirstPlay = false; 
            }
            
            await audio.play();
            
            btn.innerHTML = "üé∂ –ü–ê–£–ó–ê üé∂"; 
            btn.style.animation = "none"; 
            btn.style.background = "#222";
        } else {
            audio.pause();
            btn.innerHTML = "üé∂ –ò–ì–†–ê–¢–¨ –î–ê–õ–ï–ï üé∂"; 
            btn.style.animation = "fast-flash 0.2s infinite"; 
            btn.style.background = "#ff0000";
        }
    } catch (err) {
        console.warn("–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:", err.name);
    } finally {
        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ 200–º—Å
        setTimeout(() => { isActionPending = false; }, 200);
    }
}
        function createFallingItem() {
            if (document.hidden) return; // –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –µ—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞ (—ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤)
            const now = Date.now();
            const item = document.createElement('div');
            item.className = 'falling-item';
            
            if (now >= DEMBEL_DATE) {
                item.innerHTML = ['‚≠ê', 'üéñÔ∏è', '‚ú®'][Math.floor(Math.random()*3)];
                item.style.color = '#FFD700'; item.style.textShadow = '0 0 10px #FFA500';
            } else if (now >= SPRING_DATE) {
                item.innerHTML = 'üçÉ'; item.style.color = '#32CD32';
            } else {
                item.innerHTML = '‚ùÑ'; item.style.color = '#00ffff';
            }
            
            item.style.left = Math.random() * 95 + 'vw';
            item.style.fontSize = (Math.random() * 15 + 15) + 'px';
            item.style.animationDuration = (Math.random() * 3 + 4) + 's';
            document.body.appendChild(item);
            setTimeout(() => item.remove(), 7000);
        }
        setInterval(createFallingItem, 400);

        function update() {
            const now = new Date();
            const cur = now.getTime();
            document.getElementById('today-date').innerHTML = now.toLocaleDateString('ru-RU');

            // –ù–ì –õ–æ–≥–∏–∫–∞
            if (cur >= TRIGGER_DATE) {
                document.getElementById('ny-section').style.display = "none";
                document.getElementById('new-year-phrase').innerHTML = `<div class="neon-phrase">–ì–û–î –ü–†–û–®–Å–õ, –ß–ò–°–õ–û –°–ú–ï–ù–ò–õ–û–°–¨,<br>–ù–ò–•–£–Ø –ù–ï –ò–ó–ú–ï–ù–ò–õ–û–°–¨</div>`;
                if (!isDembelTime) {
                    document.getElementById('status-header').innerHTML = "‚úÖ –†–ê–°–®–ò–§–†–û–í–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê ‚úÖ";
                    document.getElementById('status-header').style.color = "#00ff00";
                    document.getElementById('family-text').innerHTML = NY_WISH;
                    document.getElementById('family-text').style.color = "#00ff00";
                    document.getElementById('wish-box').style.borderColor = "#00ff00";
                    document.getElementById('elf-info').innerHTML = "–û–¢–ü–†–ê–í–õ–ï–ù–û –ò–ó –®–¢–ê–ë–ê –î–ï–î–ê –ú–û–†–û–ó–ê üéÖ";
                }
                if (cur < NY_FIREWORKS_END && !fireworksActive && !isDembelTime) { fireworksActive = true; startFireworks(); }
                else if (cur >= NY_FIREWORKS_END && !isDembelTime) { fireworksActive = false; }
            } else {
                document.getElementById('ny-display').innerHTML = formatTime(TRIGGER_DATE - cur);
            }

            // –î–µ–º–±–µ–ª—å –õ–æ–≥–∏–∫–∞
            if (cur >= DEMBEL_DATE) {
                isDembelTime = true;
                document.getElementById('dembel-display').innerHTML = "–î–û–ú–ê!!! üèÅ";
                document.getElementById('music-btn').style.display = "block";
                document.getElementById('family-text').innerHTML = DEMBEL_WISH;
                document.getElementById('status-header').innerHTML = "üèÅ –ö–†–ê–°–ê–í–ê, –û–¢–°–õ–£–ñ–ò–õ! üèÅ";
                document.getElementById('status-header').style.color = "#ffff00";
                document.getElementById('wish-box').style.borderColor = "#FFD700";
                const photo = document.getElementById('main-photo');
                if (!photo.src.includes('dembel_photo.jpg')) photo.src = 'dembel_photo.jpg';
                if (!fireworksActive) { fireworksActive = true; startFireworks(); }
            } else {
                document.getElementById('dembel-display').innerHTML = formatTime(DEMBEL_DATE - cur);
            }
        }

        function formatTime(ms) {
            const d = Math.floor(ms / 86400000);
            const h = Math.floor((ms % 86400000) / 3600000);
            const m = Math.floor((ms % 3600000) / 60000);
            const s = Math.floor((ms % 60000) / 1000);
            return `${d}–¥:${h < 10 ? '0'+h : h}—á:${m < 10 ? '0'+m : m}–º:${s < 10 ? '0'+s : s}—Å`;
        }

        // –°–∞–ª—é—Ç—ã (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function startFireworks() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            const animate = () => {
                if (!fireworksActive && particles.length === 0) return;
                ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                for (let i = particles.length - 1; i >= 0; i--) {
                    const p = particles[i];
                    p.x += p.dx; p.y += p.dy; p.life--;
                    ctx.fillStyle = p.color;
                    ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill();
                    if (p.life <= 0) particles.splice(i, 1);
                }
                requestAnimationFrame(animate);
            };
            animate();
            setInterval(() => { if(fireworksActive) createFirework(); }, isDembelTime ? 400 : 1000);
        }

        function createFirework() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * (canvas.height / 2);
            const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
            for (let i = 0; i < (isDembelTime ? 60 : 30); i++) {
                particles.push({
                    x, y, dx: (Math.random() - 0.5) * 8, dy: (Math.random() - 0.5) * 8,
                    size: Math.random() * 2 + 1, color, life: 80
                });
            }
        }

        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
        setInterval(update, 1000);
        update();
    </script>
</body>

</html>






